.\" Automatically generated by Pandoc 2.16.1
.\"
.TH "NRRDBOOK" "1" "January 3, 2022" "nrrdbook 0.0.2" "User Manual"
.hy
.SH NAME
.PP
nrrdbook - Terminal-based address book for nerds.
.SH SYNOPSIS
.PP
\f[B]nrrdbook\f[R] \f[I]command\f[R] [\f[I]OPTION\f[R]]\&...
.SH DESCRIPTION
.PP
\f[B]nrrdbook\f[R] is a terminal-based address book program with advanced
search options, formatted output, mutt/neomutt integration, and contact
data stored in local text files.
It can be run in either of two modes: command-line or interactive shell.
.SH OPTIONS
.TP
\f[B]-h\f[R], \f[B]\[en]help\f[R]
Display help information.
.TP
\f[B]-c\f[R], \f[B]\[en]config\f[R] \f[I]file\f[R]
Use a non-default configuration file.
.SH COMMANDS
.PP
\f[B]nrrdbook\f[R] provides the following commands and options.
.TP
\f[B]add-email\f[R] \f[I]filename\f[R]
Add a contact by parsing the From: line of an email.
This command is intended for mutt integration use only and is hidden
from help and auto-completion.
.TP
\f[B]config\f[R]
Edit the \f[B]nrrdbook\f[R] configuration file.
.TP
\f[B]delete (rm)\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]
Delete a contact and contact file.
The user will be prompted for confirmation.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-f\f[R], \f[B]\[en]force\f[R]
Force deletion, do not prompt for confirmation.
.RE
.TP
\f[B]edit\f[R] \f[I]alias\f[R]
Edit a contact file in the user\[cq]s editor (defined by the $EDITOR
environment variable).
If $EDITOR is not defined, an error message will report that.
.TP
\f[B]export\f[R] \f[I]searchterm\f[R]
Search and output results in vCard 4.0 format, to STDOUT.
.TP
\f[B]info\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]
Show the full details about a contact record.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-p\f[R], \f[B]\[en]page\f[R]
Page the command output through $PAGER.
.RE
.TP
\f[B]list (ls)\f[R] [\f[I]view\f[R]] [\f[I]OPTION\f[R]]\&...
Disply contacts in a formatted tabular list.
An optional \f[I]view\f[R] argument can be provided to filter the list
output.
The \f[I]normal\f[R] view is default, and will list all contacts not
tagged `archive'.
The \f[I]favorite\f[R] view will list all contacts tagged `favorite'.
A specific contact can be listed by providing the contact\[cq]s alias as
the view name.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-p\f[R], \f[B]\[en]page\f[R]
Page the command output through $PAGER.
.RE
.TP
\f[B]modify (mod)\f[R] \f[I]alias\f[R] [\f[I]OPTION\f[R]]\&...
Modify a contact.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]\[en]anniversary\f[R] \f[I]YYYY-MM-DD\f[R]
The contact\[cq]s anniversary (e.g., wedding anniversary, hire date,
etc).
.TP
\f[B]\[en]assistant\f[R] \f[I]name\f[R]
The contact\[cq]s assistant or direct report.
.TP
\f[B]\[en]birthday\f[R] \f[I]YYYY-MM-DD\f[R]
The contact\[cq]s birthday.
.TP
\f[B]\[en]calurl\f[R] \f[I]URL\f[R]
A URL representing the contact\[cq]s calendar.
.TP
\f[B]\[en]company\f[R] \f[I]name\f[R]
The contact\[cq]s company name.
.TP
\f[B]\[en]display\f[R] \f[I]name\f[R]
The contact\[cq]s display name.
.TP
\f[B]\[en]division\f[R] \f[I]name\f[R]
The contact\[cq]s corporate or institutional division.
.TP
\f[B]\[en]fburl\f[R] \f[I]URL\f[R]
A URL representing the contact\[cq]s free/busy information.
.TP
\f[B]\[en]first\f[R] \f[I]name\f[R]
The contact\[cq]s first (given) name.
.TP
\f[B]\[en]gender\f[R] \f[I]ABBR;description\f[R]
The contact\[cq]s gender, in the form of a standard abbreviation
optionally followed by descriptive text (separated by a semicolon [;]).
The abbreviation may be one of: \f[B]M\f[R] (male), \f[B]F\f[R]
(female), \f[B]O\f[R] (other), \f[B]N\f[R] (none or not applicable), or
\f[B]U\f[R] (unknown).
.TP
\f[B]\[en]language\f[R] \f[I]language\f[R]
The contact\[cq]s preferred language.
For export compatibility vCard, use an ISO standard abbreviation (e.g.,
EN, FR, etc.)
.TP
\f[B]\[en]last\f[R] \f[I]name\f[R]
The contact\[cq]s last (family) name.
.TP
\f[B]\[en]manager\f[R] \f[I]name\f[R]
The name of the contact\[cq]s manager.
.TP
\f[B]\[en]new-alias\f[R] \f[I]alias\f[R]
A new custom alias to use for the contact.
All aliases must be unique.
.TP
\f[B]\[en]nickname\f[R] \f[I]name\f[R]
The contact\[cq]s nickname.
.TP
\f[B]\[en]notes\f[R] \f[I]text\f[R]
Notes to add to the contact.
Be sure to properly escape the text if it includes special characters or
newlines that may be interpretted by the shell.
Using this option, any existing notes on the contact will be replaced.
This command option is included mainly for the purpose of automated note
insertion (i.e., via script or command).
For more reliable note editing, use the \f[B]notes\f[R] command.
.TP
\f[B]\[en]office\f[R] \f[I]name\f[R]
The contact\[cq]s office name or description.
.TP
\f[B]\[en]photo\f[R] \f[I]URL\f[R]
A URL representing the contact\[cq]s photo.
.TP
\f[B]\[en]spouse\f[R] \f[I]name\f[R]
The name of the contact\[cq]s spouse.
.TP
\f[B]\[en]tags\f[R] \f[I]tag[,tag]\f[R]
Tags assigned to the contact.
This can be a single tag or multiple tags in a comma-delimited list.
Normally with this option, any existing tags assigned to the contact
will be replaced.
However, this option also supports two special operators: \f[B]+\f[R]
(add a tag to the existing tags) and \f[B]\[ti]\f[R] (remove a tag from
the existing tags).
For example, \f[I]\[en]tags +documentation\f[R] will add the
\f[I]documentation\f[R] tag to the existing tags on a contact, and
\f[I]\[en]tags \[ti]testing,experimental\f[R] will remove both the
\f[I]testing\f[R] and \f[I]experimental\f[R] tags from a contact.
.TP
\f[B]\[en]title\f[R] \f[I]description\f[R]
The contact\[cq]s business or official title.
.TP
\f[B]\[en]add-address\f[R] \f[I]label\f[R] \f[I]address\f[R] [\f[I]primary\f[R]]
Add an address to a contact.
Every address should have a unique label (e.g., `work' or `home') and
may optionally be designated as the primary address.
The address string itself must be provided in the following format:
\f[I]address line 1\f[R];\f[I]address line
2\f[R];\f[I]city\f[R];\f[I]state\f[R];\f[I]zipcode\f[R];\f[I]country\f[R].
Any blank fields must still be included and will look like
\f[I]..;;..\f[R].
.PP
Examples:
.IP
.nf
\f[C]
101 Main St;;Chicago;IL;60618;United States

1134 W. 12th St;Apt 234;Austin;TX;78701;United States

;;Dexter;ME;
\f[R]
.fi
.TP
\f[B]\[en]add-email\f[R] \f[I]label\f[R] \f[I]address\f[R] [\f[I]primary\f[R]]
Add an email address to a contact.
Every email address should have a unique label (e.g., `work' or `home')
and may optionally be designated as the primary email address.
.TP
\f[B]\[en]add-messaging\f[R] \f[I]label\f[R] \f[I]account\f[R] [\f[I]primary\f[R]]
Add a messaging account address to a contact.
Every messaging account should have a unique label (e.g., `xmpp') and if
exported to vCard the label will also be used as the protocol
descriptor.
A messaging account may optionally be designated as the primary
messaging account.
.TP
\f[B]\[en]add-pgpkey\f[R] \f[I]label\f[R] \f[I]URL\f[R] [\f[I]primary\f[R]]
Add a PGP key URL to a contact.
Every PGP key entry should have a unique label (e.g., `personal' or
`business') and may optionally be designated as the primary PGP key for
a contact.
.TP
\f[B]\[en]add-phone\f[R] \f[I]label\f[R] \f[I]number\f[R] [\f[I]primary\f[R]]
Add a phone number to a contact.
Every phone number should have a unique label (e.g., `work' or `home')
and may optionally be designated as the primary phone number.
.TP
\f[B]\[en]add-website\f[R] \f[I]label\f[R] \f[I]URL\f[R] [\f[I]primary\f[R]]
Add a website URL to a contact.
Every website entry should have unique label (e.g., `personal' or
`company') and may optionally be designated as the primary website.
.TP
\f[B]\[en]del-address\f[R] \f[I]index\f[R]
Delete an address from a contact.
The address is identified by the index displayed in the output of
\f[B]info\f[R].
.TP
\f[B]\[en]del-email\f[R] \f[I]index\f[R]
Delete an email address from a contact.
The email address is identified by the index displayed in the output of
\f[B]info\f[R].
.TP
\f[B]\[en]del-messaging\f[R] \f[I]index\f[R]
Delete a messaging account from a contact.
The account is identified by the index displayed in the output of
\f[B]info\f[R].
.TP
\f[B]\[en]del-pgpkey\f[R] \f[I]index\f[R]
Delete a PGP key from a contact.
The key is identified by the index displayed in the output of
\f[B]info\f[R].
.TP
\f[B]\[en]del-phone\f[R] \f[I]index\f[R]
Delete a phone number from a contact.
The number is identified by the index displayed in the output of
\f[B]info\f[R].
.TP
\f[B]\[en]del-website\f[R] \f[I]index\f[R]
Delete a website from a contact.
The website is identified by the index displayed in the output of
\f[B]info\f[R].
.RE
.TP
\f[B]mutt\f[R] \f[I]searchterm\f[R]
Search for one or more contacts and output in a manner that can be
parsed by mutt/neomutt.
.TP
\f[B]new\f[R] [\f[I]OPTION\f[R]]
Create a new contact.
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]\[en]address\f[R] \f[I]label\f[R] \f[I]address\f[R] [\f[I]primary\f[R]]
Add an address to a contact.
Every address should have a unique label (e.g., `work' or `home') and
may optionally be designated as the primary address.
The address string itself must be provided in the following format:
\f[I]address line 1\f[R];\f[I]address line
2\f[R];\f[I]city\f[R];\f[I]state\f[R];\f[I]zipcode\f[R];\f[I]country\f[R].
Any blank fields must still be included and will look like
\f[I]..;;..\f[R].
See \f[B]\[en]add-address\f[R] under \f[B]modify\f[R] above for
examples.
.TP
\f[B]\[en]alias\f[R] \f[I]alias\f[R]
A custom alias to use for the contact.
All aliases must be unique.
.TP
\f[B]\[en]anniversary\f[R] \f[I]YYYY-MM-DD\f[R]
The contact\[cq]s anniversary (e.g., wedding anniversary, hire date,
etc).
.TP
\f[B]\[en]assistant\f[R] \f[I]name\f[R]
The contact\[cq]s assistant or direct report.
.TP
\f[B]\[en]birthday\f[R] \f[I]YYYY-MM-DD\f[R]
The contact\[cq]s birthday.
.TP
\f[B]\[en]calurl\f[R] \f[I]URL\f[R]
A URL representing the contact\[cq]s calendar.
.TP
\f[B]\[en]company\f[R] \f[I]name\f[R]
The contact\[cq]s company name.
.TP
\f[B]\[en]display\f[R] \f[I]name\f[R]
The contact\[cq]s display name.
.TP
\f[B]\[en]division\f[R] \f[I]name\f[R]
The contact\[cq]s corporate or institutional division.
.TP
\f[B]\[en]email\f[R] \f[I]label\f[R] \f[I]address\f[R] [\f[I]primary\f[R]]
Add an email address to a contact.
Every email address should have a unique label (e.g., `work' or `home')
and may optionally be designated as the primary email address.
.TP
\f[B]\[en]fburl\f[R] \f[I]URL\f[R]
A URL representing the contact\[cq]s free/busy information.
.TP
\f[B]\[en]first\f[R] \f[I]name\f[R]
The contact\[cq]s first (given) name.
.TP
\f[B]\[en]gender\f[R] \f[I]ABBR;description\f[R]
The contact\[cq]s gender, in the form of a standard abbreviation
optionally followed by descriptive text (separated by a semicolon [;]).
The abbreviation may be one of: \f[B]M\f[R] (male), \f[B]F\f[R]
(female), \f[B]O\f[R] (other), \f[B]N\f[R] (none or not applicable), or
\f[B]U\f[R] (unknown).
.TP
\f[B]\[en]language\f[R] \f[I]language\f[R]
The contact\[cq]s preferred language.
For export compatibility vCard, use an ISO standard abbreviation (e.g.,
EN, FR, etc.)
.TP
\f[B]\[en]last\f[R] \f[I]name\f[R]
The contact\[cq]s last (family) name.
.TP
\f[B]\[en]manager\f[R] \f[I]name\f[R]
The name of the contact\[cq]s manager.
.TP
\f[B]\[en]messaging\f[R] \f[I]label\f[R] \f[I]account\f[R] [\f[I]primary\f[R]]
Add a messaging account address to a contact.
Every messaging account should have a unique label (e.g., `xmpp') and if
exported to vCard the label will also be used as the protocol
descriptor.
A messaging account may optionally be designated as the primary
messaging account.
.TP
\f[B]\[en]nickname\f[R] \f[I]name\f[R]
The contact\[cq]s nickname.
.TP
\f[B]\[en]notes\f[R] \f[I]text\f[R]
Notes to add to the contact.
Be sure to properly escape the text if it includes special characters or
newlines that may be interpretted by the shell.
Using this option, any existing notes on the contact will be replaced.
This command option is included mainly for the purpose of automated note
insertion (i.e., via script or command).
For more reliable note editing, use the \f[B]notes\f[R] command.
.TP
\f[B]\[en]office\f[R] \f[I]name\f[R]
The contact\[cq]s office name or description.
.TP
\f[B]\[en]pgpkey\f[R] \f[I]label\f[R] \f[I]URL\f[R] [\f[I]primary\f[R]]
Add a PGP key URL to a contact.
Every PGP key entry should have a unique label (e.g., `personal' or
`business') and may optionally be designated as the primary PGP key for
a contact.
.TP
\f[B]\[en]phone\f[R] \f[I]label\f[R] \f[I]number\f[R] [\f[I]primary\f[R]]
Add a phone number to a contact.
Every phone number should have a unique label (e.g., `work' or `home')
and may optionally be designated as the primary phone number.
.TP
\f[B]\[en]photo\f[R] \f[I]URL\f[R]
A URL representing the contact\[cq]s photo.
.TP
\f[B]\[en]spouse\f[R] \f[I]name\f[R]
The name of the contact\[cq]s spouse.
.TP
\f[B]\[en]tags\f[R] \f[I]tag[,tag]\f[R]
Tags assigned to the contact.
This can be a single tag or multiple tags in a comma-delimited list.
Normally with this option, any existing tags assigned to the contact
will be replaced.
However, this option also supports two special operators: \f[B]+\f[R]
(add a tag to the existing tags) and \f[B]\[ti]\f[R] (remove a tag from
the existing tags).
For example, \f[I]\[en]tags +documentation\f[R] will add the
\f[I]documentation\f[R] tag to the existing tags on a contact, and
\f[I]\[en]tags \[ti]testing,experimental\f[R] will remove both the
\f[I]testing\f[R] and \f[I]experimental\f[R] tags from a contact.
.TP
\f[B]\[en]title\f[R] \f[I]description\f[R]
The contact\[cq]s business or official title.
.TP
\f[B]\[en]website\f[R] \f[I]label\f[R] \f[I]URL\f[R] [\f[I]primary\f[R]]
Add a website URL to a contact.
Every website entry should have unique label (e.g., `personal' or
`company') and may optionally be designated as the primary website.
.RE
.TP
\f[B]notes\f[R] \f[I]alias\f[R]
Add or update notes on a contact using the user\[cq]s editor (defined by
the $EDITOR environment variable).
If $EDITOR is not defined, an error message will report that.
.TP
\f[B]query\f[R] \f[I]searchterm\f[R] [\f[I]OPTION\f[R]]\&...
Search for one or more contacts and produce plain text output (by
default, tab-delimited text).
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-l\f[R], \f[B]\[en]limit\f[R]
Limit the output to one or more specific fields (provided as a
comma-delimited list).
.TP
\f[B]-j\f[R], \f[B]\[en]json\f[R]
Output in JSON format rather than the default tab-delimited format.
.RE
.TP
\f[B]search\f[R] \f[I]searchterm\f[R] [\f[I]OPTION\f[R]]
Search for one or more contacts output a tabular list (same format as
\f[B]list\f[R]).
.RS
.PP
\f[I]OPTIONS\f[R]
.TP
\f[B]-p\f[R], \f[B]\[en]page\f[R]
Page the command output through $PAGER.
.RE
.TP
\f[B]shell\f[R]
Launch the \f[B]nrrdbook\f[R] interactive shell.
.TP
\f[B]unset\f[R] \f[I]alias\f[R] \f[I]field\f[R]
Clear a field from a specified contact.
.TP
\f[B]version\f[R]
Show the application version information.
.SH NOTES
.SS About primary entries
.PP
A physical or postal address, an email address, a phone number, a
messaging account, a website, or a PGP key may be designated as
\f[I]primary\f[R].
Primary entries are highlighted in \f[B]list\f[R] and \f[B]info\f[R]
views using bold text (if enabled).
Also, \f[B]query\f[R] output may be limited (using the
\f[B]\[en]limit\f[R] option) to only show email, phone number, and
address results that are designated as \f[I]primary\f[R] (e.g.,
\f[B]\[en]limit name,email:primary\f[R]).
.SS Changing the primary entry
.PP
If you wish to change the primary entry for emails, phone numbers, etc.,
you must delete the existing entries and re-add them with the primary
keyword.
For example, if the \f[I][1] work\f[R] entry of a contact is primary and
you would like to make \f[I][2] home\f[R] the new primary:
.IP
.nf
\f[C]
nrrdbook modify aw4d --del-email 1 --del-email 2 --add-email work tom\[at]tomco.com --add-email home tom\[at]homeisp.com primary
\f[R]
.fi
.PP
Alternatively, you may use the edit command to edit the contact file
directly.
Primary entries are designated via \f[I]primary: true\f[R].
.SS Special tags
.PP
There are two special tags used by \f[B]nrrdbook\f[R]:
.PP
\f[I]archive\f[R] : contacts tagged with `archive' will not appear in
\f[B]list\f[R] output, unless the \f[B]-a\f[R], \f[B]\[en]all\f[R]
option is included (command \f[B]listall\f[R] in interactive mode,
shortcut \f[B]lsa\f[R]).
.PP
\f[I]favorite\f[R] : only contacts tagged with `favorite' will be
included in \f[B]list\f[R] if the \f[B]-f\f[R], \f[B]\[en]favorite\f[R]
option is included (command \f[B]fav\f[R] in interactive mode, shortcut
\f[B]lsf\f[R]).
.SS Search and query
.PP
There are two command-line methods for filtering the presented list of
address book entries: \f[B]search\f[R] and \f[B]query\f[R].
These two similar-sounding functions perform very different roles.
.PP
Search results are output in the same tabular, human-readable format as
that of list.
Query results are presented in the form of tab-delimited text (by
default) or JSON (if using the \f[B]-j\f[R], \f[B]\[en]json\f[R] option)
and are primarily intended for use by other programs that are able to
consume structured text output.
.PP
Search and query use the same filter syntax.
The most basic form of search is to simply look for part of a name:
.IP
.nf
\f[C]
nrrdbook search <search_term>
\f[R]
.fi
.PP
\f[B]NOTE:\f[R] search terms are case-insensitive.
.PP
If the search term is present in a contact\[cq]s display name, the
contact record will be displayed.
.PP
Optionally, a search type may be specified to search other fields.
The search type may be one of \f[I]uid\f[R], \f[I]alias\f[R],
\f[I]name\f[R], \f[I]email\f[R], \f[I]phone\f[R], \f[I]address\f[R],
\f[I]birthday\f[R], \f[I]anniversary\f[R], or \f[I]tags\f[R].
If an invalid search type is provided, the search will default to a
display name (\f[I]name\f[R]) search.
To specify a search type, use the format:
.IP
.nf
\f[C]
nrrdbook search [search_type=]<search_term>
\f[R]
.fi
.PP
You may combine search types in a comma-delimited structure.
All search criteria must be met to return a result.
.PP
The tags search type may also use the optional \f[B]+\f[R] operator to
search for more than one tag.
Any matched tag will return a result.
.PP
The special search term \f[I]any\f[R] can be used to match all records,
but is only useful in combination with an exclusion to match all records
except those excluded.
.SS Exclusion
.PP
In addition to the search term, an exclusion term may be provided.
Any match in the exclusion term will negate a match in the search term.
An exclusion term is formatted in the same manner as the search term,
must follow the search term, and must be denoted using the \f[B]%\f[R]
operator:
.IP
.nf
\f[C]
nrrdbook search [search_type=]<search_term>%[exclusion_type=]<exclusion_term>
\f[R]
.fi
.SS Search examples
.PP
Search for any entry with the word \[lq]john\[rq] in the display name:
.IP
.nf
\f[C]
nrrdbook search john
\f[R]
.fi
.PP
The same search with the search type explicitly defined:
.IP
.nf
\f[C]
nrrdbook search name=john
\f[R]
.fi
.PP
Search for all entries named \[lq]John\[rq] who live in Maine except for
those tagged business or archive:
.IP
.nf
\f[C]
nrrdbook search name=john,address=maine%tags=business+archive
\f[R]
.fi
.SS Birthdays and anniversaries
.PP
Searches for birthdays and anniversaries have special handling because
of their particular use case.
.IP
.nf
\f[C]
nrrdbook search birthday=09-23
\f[R]
.fi
.PP
The above search will find any entries with a birthday of September 23.
The following search will return only those entries with the specific
birthday of September 23, 1984.
.IP
.nf
\f[C]
nrrdbook search birthday=1984-09-23
\f[R]
.fi
.PP
The following search will return any entries born any day in 1985:
.IP
.nf
\f[C]
nrrdbook search birthday=1985
\f[R]
.fi
.PP
This search will return any entries for birthdays in October:
.IP
.nf
\f[C]
nrrdbook search birthday=10
\f[R]
.fi
.SS Query and limit
.PP
The query function uses the same syntax as search but can return more
information and will output in a form that may be read by other
programs.
The standard fields returned by query for tab-delimited output are:
.IP
.nf
\f[C]
- uid (string)
- alias (string)
- display name (string)
- email addresses (list)
- phone numbers (list)
- address entries (list)
- birthday (string)
- anniversary (string)
- tags (list)
\f[R]
.fi
.PP
List fields are returned in standard Python format: [`item 1', `item 2',
\&...].
Empty lists are returned as [].
Empty string fields will appear as multiple tabs.
.PP
JSON output returns all fields for a record, including fields not
provided in tab-delimited output.
.PP
The \f[B]query\f[R] function may also use the \f[B]\[en]limit\f[R]
option.
This is a comma-separated list of fields to return.
The \f[B]\[en]limit\f[R] option does not have an effect on JSON output.
.SS Primary entries
.PP
Email addresses, phone numbers, and physical/mailing addresses may be
tagged as \f[I]primary: true\f[R] denoting that this is the record\[cq]s
primary or preferred contact entry.
To limit the \f[B]query\f[R] data returned to only the primary entry of
a field, you may use one or more of the following limits:
.IP
.nf
\f[C]
- email:primary
- phone:primary
- address:primary
\f[R]
.fi
.PP
For example, the following would search for any entry with a birthday in
November which is not tagged as enemies and will limit the output to
only name, birthday, and the person\[cq]s primary email address:
.IP
.nf
\f[C]
nrrdbook query birthday=11%tags=enemies --limit name,email:primary,birthday
\f[R]
.fi
.PP
Which would return output such as:
.IP
.nf
\f[C]
Jan Morris  [\[aq]jan\[at]somedomain.org\[aq]]  1983-11-19
Darun Singh [\[aq]dsingh\[at]otherdomain.com\[aq]]  1975-11-24
\f[R]
.fi
.PP
which might be useful in sending automated digital birthday cards by
email.
Another example might be generating a mailing list for holiday cards:
.IP
.nf
\f[C]
nrrdbook query tags=holiday --limit name,address:primary
\f[R]
.fi
.SS Paging
.PP
Output from \f[B]list\f[R], \f[B]search\f[R], and \f[B]info\f[R] can get
long and run past your terminal buffer.
You may use the \f[B]-p\f[R] or \f[B]\[en]page\f[R] option in
conjunction with \f[B]search\f[R], \f[B]list\f[R], or \f[B]info\f[R] to
page output.
.SS Mutt and Neomutt integration
.PP
\f[B]nrrdbook\f[R] may be used as an address book for \f[B]mutt\f[R] or
\f[B]neomutt\f[R].
Add the following to your \f[I]muttrc\f[R] to support lookups using
\f[B]nrrdbook\f[R]:
.IP
.nf
\f[C]
set query_command = \[dq]nrrdbook mutt %s\[dq]
\f[R]
.fi
.PP
The \f[B]mutt\f[R] subcommand returns output in the standard mutt query
form:
.IP
.nf
\f[C]
email_address,display_name,alias
\f[R]
.fi
.PP
The query searches only the \f[I]alias\f[R], \f[I]display\f[R], and
\f[I]email\f[R] fields for matches.
If the query is an exact match for a record\[cq]s alias,
\f[B]nrrdbook\f[R] will return only a single entry with the primary email
address (if designated by \f[I]primary: true\f[R], otherwise the first
email address defined).
Non-exact matches return all email addresses found.
For example:
.IP
.nf
\f[C]
> nrrdbook mutt jrb1
jack\[at]brownindustries.com,Jack R. Brown,jrb1

> nrrdbook mutt jack
jack\[at]brownindustries.com,Jack R. Brown,jrb1
jack\[at]homewebmail.com,Jack R. Brown,jrb1
lisa\[at]morrishendersonllc.com,Lisa Jackson,ljmh
\f[R]
.fi
.SH FILES
.TP
\f[B]\[ti]/.config/nrrdbook/config\f[R]
Default configuration file
.TP
\f[B]\[ti]/.local/share/nrrdbook\f[R]
Default data directory
.SH AUTHORS
.PP
Written by Sean O\[cq]Connell <https://sdoconnell.net>.
.SH BUGS
.PP
Submit bug reports at: <https://github.com/sdoconnell/nrrdbook/issues>
.SH SEE ALSO
.PP
Further documentation and sources at:
<https://github.com/sdoconnell/nrrdbook>
